!function(X,f,g){"use strict";var M="ht",F=X[M],D=null,Y=Math,Q=Y.PI,E=Y.cos,P=Y.sin,l=Y.abs,y=Y.max,S=Y.sqrt,k=1e-5,$=F.Default,x=$.def,B=$.startAnim,c=$.createMatrix,q=$.transformVec,A=$.getInternal(),d=A.addMethod,i=A.superCall,e=A.toPointsArray,O=A.createNormals,R=A.toFloatArray,p=A.glMV,Z=A.batchShape,G=A.createNodeMatrix,j=A.getFaceInfo,J=A.transformAppend,H=A.drawFaceInfo,K=A.createAnim,U=A.cube(),N=U.is,n=U.vs,m=U.uv,I=A.ui(),L=F.Node,W=F.Shape,v="h",T="v",h="front",r="back",w="left",o="right",b="top",C="bottom",z="dw.expanded",t=".expanded",s="dw.angle",V=".angle",a=function(J,E,P){x(M+"."+J,E,P)},_=function(D,x,C){C?D.push(x.x,x.y):D.push(x.x,x.y,x.z)},u=[1,0,0],rd=function(s,d,y,r){var f,q,R,i,H=0,j=[];if(r)for(f=r.length;f>H;H+=3)q=r[H],R=r[H+1],i=r[H+2],j.push(new Do([new ug([d[3*q],d[3*q+1],d[3*q+2]],u,y?[y[2*q],y[2*q+1],0]:D),new ug([d[3*R],d[3*R+1],d[3*R+2]],u,y?[y[2*R],y[2*R+1],0]:D),new ug([d[3*i],d[3*i+1],d[3*i+2]],u,y?[y[2*i],y[2*i+1],0]:D)],s));else for(f=d.length;f>H;H+=3)q=H,R=H+1,i=H+2,j.push(new Do([new ug([d[3*q],d[3*q+1],d[3*q+2]],u,y?[y[2*q],y[2*q+1],0]:D),new ug([d[3*R],d[3*R+1],d[3*R+2]],u,y?[y[2*R],y[2*R+1],0]:D),new ug([d[3*i],d[3*i+1],d[3*i+2]],u,y?[y[2*i],y[2*i+1],0]:D)],s));return j},Sk=[w,h,o,r,b,C],al=Sk.concat("csg"),rj=[0,6,12,18,24,30],ke=function(p,O,H){for(var g=G(p),Q=[],X=0;6>X;X++)for(var l=Sk[X],k=rj[X],C=H?O.getFaceUv(p,l):D,f=H?O.getFaceUvScale(p,l):D,I=H?O.getFaceUvOffset(p,l):D,E=0;2>E;E++){var e,c,t,R=N[k+3*E],A=N[k+3*E+1],x=N[k+3*E+2];if(H){if(C){var $=8*X;e=[C[2*R-$],C[2*R+1-$],0],c=[C[2*A-$],C[2*A+1-$],0],t=[C[2*x-$],C[2*x+1-$],0]}else e=[m[2*R],m[2*R+1],0],c=[m[2*A],m[2*A+1],0],t=[m[2*x],m[2*x+1],0];f&&(e[0]*=f[0],e[1]*=f[1],c[0]*=f[0],c[1]*=f[1],t[0]*=f[0],t[1]*=f[1]),I&&(e[0]+=I[0],e[1]+=I[1],c[0]+=I[0],c[1]+=I[1],t[0]+=I[0],t[1]+=I[1])}Q.push(new Do([new ug(q([n[3*R],n[3*R+1],n[3*R+2]],g),u,e),new ug(q([n[3*A],n[3*A+1],n[3*A+2]],g),u,c),new ug(q([n[3*x],n[3*x+1],n[3*x+2]],g),u,t)],p))}return de.$15n(Q)},Be=function(W,g){var w,$=W.data.getAttaches();if($&&$.each(function(O){O instanceof po&&O.s("attach.operation")&&(w||(w=[]),w.push(O))}),w){var j;Sk.forEach(function(J){var _=rd(J,W[J].vs,W[J].tuv);j=j?j.concat(_):_}),j=de.$15n(j),w.forEach(function(E){var a=E.s("attach.operation");j[a]&&(j=j[a](ke(E,W.gv,W.csg.tuv)))}),Sk.forEach(function(_){_=W[_],_.vs=[],_.tuv&&(_.tuv=[])}),j.$19n().forEach(function(k){var F=k.$10n;if(F instanceof po){if(F.s("attach.cull"))return;F="csg"}for(var u=W[F],D=u.vs,i=u.tuv,K=k.$9n,m=2;m<K.length;m++)_(D,K[0].$24n),_(D,K[m-1].$24n),_(D,K[m].$24n),i&&(_(i,K[0].uv,!0),_(i,K[m-1].uv,!0),_(i,K[m].uv,!0))})}al.forEach(function(H){var E=W[H];E.visible&&E.vs.length?(E.ns=O(E.vs),R(E,"vs"),R(E,"tuv")):delete W[H]}),g&&(Z(W,D,g),W.clear())};d($,{createFrameModel:function(s,$,i,F){s=s==D?.07:s,$=$==D?s:$,i=i==D?s:i,F=F?F:{};var A=F.top,M=F.bottom,K=F.left,c=F.right,H=F.front,j=F.back,l=[],y=[];return H===!0?(l.push(-.5,.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,.5,.5,-.5,.5,.5),y.push(0,0,0,1,1,1,1,1,1,0,0,0)):H===!1||(l.push(-.5,.5,.5,-.5,-.5,.5,-.5+s,-.5,.5,-.5+s,-.5,.5,-.5+s,.5,.5,-.5,.5,.5,.5-s,.5,.5,.5-s,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5-s,.5,.5,-.5+s,.5,.5,-.5+s,.5-$,.5,.5-s,.5-$,.5,.5-s,.5-$,.5,.5-s,.5,.5,-.5+s,.5,.5,-.5+s,-.5+$,.5,-.5+s,-.5,.5,.5-s,-.5,.5,.5-s,-.5,.5,.5-s,-.5+$,.5,-.5+s,-.5+$,.5),y.push(0,0,0,1,s,1,s,1,s,0,0,0,1-s,0,1-s,1,1,1,1,1,1,0,1-s,0,s,0,s,$,1-s,$,1-s,$,1-s,0,s,0,s,1-$,s,1,1-s,1,1-s,1,1-s,1-$,s,1-$)),j===!0?(l.push(-.5,.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5),y.push(1,0,0,1,1,1,0,1,1,0,0,0)):j===!1||(l.push(-.5,.5,-.5,-.5+s,-.5,-.5,-.5,-.5,-.5,-.5+s,-.5,-.5,-.5,.5,-.5,-.5+s,.5,-.5,.5-s,.5,-.5,.5,-.5,-.5,.5-s,-.5,-.5,.5,-.5,-.5,.5-s,.5,-.5,.5,.5,-.5,-.5+s,.5,-.5,.5-s,.5-$,-.5,-.5+s,.5-$,-.5,.5-s,.5-$,-.5,-.5+s,.5,-.5,.5-s,.5,-.5,-.5+s,-.5+$,-.5,.5-s,-.5,-.5,-.5+s,-.5,-.5,.5-s,-.5,-.5,-.5+s,-.5+$,-.5,.5-s,-.5+$,-.5),y.push(1,0,1-s,1,1,1,1-s,1,1,0,1-s,0,s,0,0,1,s,1,0,1,s,0,0,0,1-s,0,s,$,1-s,$,s,$,1-s,0,s,0,1-s,1-$,s,1,1-s,1,s,1,1-s,1-$,s,1-$)),K===!0?(l.push(-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,-.5),y.push(0,0,0,1,1,1,1,1,1,0,0,0)):K===!1||(l.push(-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5+i,-.5,-.5,-.5+i,-.5,.5,-.5+i,-.5,.5,-.5,-.5,.5,.5-i,-.5,-.5,.5-i,-.5,-.5,.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,.5-i,-.5,.5,-.5+i,-.5,.5-$,-.5+i,-.5,.5-$,.5-i,-.5,.5-$,.5-i,-.5,.5,.5-i,-.5,.5,-.5+i,-.5,-.5+$,-.5+i,-.5,-.5,-.5+i,-.5,-.5,.5-i,-.5,-.5,.5-i,-.5,-.5+$,.5-i,-.5,-.5+$,-.5+i),y.push(0,0,0,1,i,1,i,1,i,0,0,0,1-i,0,1-i,1,1,1,1,1,1,0,1-i,0,i,0,i,$,1-i,$,1-i,$,1-i,0,i,0,i,1-$,i,1,1-i,1,1-i,1,1-i,1-$,i,1-$)),c===!0?(l.push(.5,.5,-.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,.5,.5,.5,-.5,.5,.5,.5),y.push(1,0,0,1,1,1,0,1,1,0,0,0)):c===!1||(l.push(.5,.5,-.5,.5,-.5,-.5+i,.5,-.5,-.5,.5,-.5,-.5+i,.5,.5,-.5,.5,.5,-.5+i,.5,.5,.5-i,.5,-.5,.5,.5,-.5,.5-i,.5,-.5,.5,.5,.5,.5-i,.5,.5,.5,.5,.5,-.5+i,.5,.5-$,.5-i,.5,.5-$,-.5+i,.5,.5-$,.5-i,.5,.5,-.5+i,.5,.5,.5-i,.5,-.5+$,-.5+i,.5,-.5,.5-i,.5,-.5,-.5+i,.5,-.5,.5-i,.5,-.5+$,-.5+i,.5,-.5+$,.5-i),y.push(1,0,1-i,1,1,1,1-i,1,1,0,1-i,0,i,0,0,1,i,1,0,1,i,0,0,0,1-i,0,i,$,1-i,$,i,$,1-i,0,i,0,1-i,1-$,i,1,1-i,1,i,1,1-i,1-$,i,1-$)),A===!0?(l.push(.5,.5,.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,.5,.5,.5),y.push(1,1,1,0,0,0,0,0,0,1,1,1)):A===!1||(l.push(.5,.5,.5,.5,.5,-.5,.5-s,.5,-.5,.5-s,.5,-.5,.5-s,.5,.5,.5,.5,.5,-.5+s,.5,.5,-.5+s,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5+s,.5,.5,.5-s,.5,.5,.5-s,.5,.5-i,-.5+s,.5,.5-i,-.5+s,.5,.5-i,-.5+s,.5,.5,.5-s,.5,.5,.5-s,.5,-.5+i,.5-s,.5,-.5,-.5+s,.5,-.5,-.5+s,.5,-.5,-.5+s,.5,-.5+i,.5-s,.5,-.5+i),y.push(1,1,1,0,1-s,0,1-s,0,1-s,1,1,1,s,1,s,0,0,0,0,0,0,1,s,1,1-s,1,1-s,1-i,s,1-i,s,1-i,s,1,1-s,1,1-s,i,1-s,0,s,0,s,0,s,i,1-s,i)),M===!0?(l.push(.5,-.5,.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,-.5,-.5,.5),y.push(1,0,0,1,1,1,0,1,1,0,0,0)):M===!1||(l.push(.5,-.5,.5,.5-s,-.5,-.5,.5,-.5,-.5,.5-s,-.5,-.5,.5,-.5,.5,.5-s,-.5,.5,-.5+s,-.5,.5,-.5,-.5,-.5,-.5+s,-.5,-.5,-.5,-.5,-.5,-.5+s,-.5,.5,-.5,-.5,.5,.5-s,-.5,.5,-.5+s,-.5,.5-i,.5-s,-.5,.5-i,-.5+s,-.5,.5-i,.5-s,-.5,.5,-.5+s,-.5,.5,.5-s,-.5,-.5+i,-.5+s,-.5,-.5,.5-s,-.5,-.5,-.5+s,-.5,-.5,.5-s,-.5,-.5+i,-.5+s,-.5,-.5+i),y.push(1,0,1-s,1,1,1,1-s,1,1,0,1-s,0,s,0,0,1,s,1,0,1,s,0,0,0,1-s,0,s,i,1-s,i,s,i,1-s,0,s,0,1-s,1-i,s,1,1-s,1,s,1,1-s,1-i,s,1-i)),{vs:l,uv:y}}}),d(F.Style,{"dw.flip":!1,"dw.s3":[.999,.999,.5],"dw.t3":g,"dw.expanded":!1,"dw.toggleable":!0,"dw.axis":"left","dw.start":0,"dw.end":Q/2,"dw.angle":0,"attach.cull":!1,"attach.operation":"subtract"},!0),Sk.forEach(function(M){var e={};e[M+t]=!1,e[M+".toggleable"]=!1,e[M+".axis"]=w,e[M+".start"]=0,e[M+".end"]=Q/2,e[M+V]=0,d(F.Style,e,!0)});var de=function(){this.$4n=[]};de.$15n=function(j){var C=new de;return C.$4n=j,C},de.prototype={clone:function(){var X=new de;return X.$4n=this.$4n.map(function(T){return T.clone()}),X},$19n:function(){return this.$4n},union:function(M){var S=new Hg(this.clone().$4n),f=new Hg(M.clone().$4n);return S.$3n(f),f.$3n(S),f.$6n(),f.$3n(S),f.$6n(),S.$7n(f.$2n()),de.$15n(S.$2n())},subtract:function(d){var s=new Hg(this.clone().$4n),o=new Hg(d.clone().$4n);return s.$6n(),s.$3n(o),o.$3n(s),o.$6n(),o.$3n(s),o.$6n(),s.$7n(o.$2n()),s.$6n(),de.$15n(s.$2n())},intersect:function(N){var u=new Hg(this.clone().$4n),I=new Hg(N.clone().$4n);return u.$6n(),I.$3n(u),I.$6n(),u.$3n(I),I.$3n(u),u.$7n(I.$2n()),u.$6n(),de.$15n(u.$2n())},inverse:function(){var D=this.clone();return D.$4n.map(function(U){U.flip()}),D}},de.cube=function(x){x=x||{};var T=new qb(x.center||[0,0,0]),o=x.radius?x.radius.length?x.radius:[x.radius,x.radius,x.radius]:[1,1,1];return de.$15n([[[0,4,6,2],[-1,0,0]],[[1,3,7,5],[1,0,0]],[[0,1,5,4],[0,-1,0]],[[2,6,7,3],[0,1,0]],[[0,2,3,1],[0,0,-1]],[[4,5,7,6],[0,0,1]]].map(function(A){return new Do(A[0].map(function(i){var J=new qb(T.x+o[0]*(2*!!(1&i)-1),T.y+o[1]*(2*!!(2&i)-1),T.z+o[2]*(2*!!(4&i)-1));return new ug(J,new qb(A[1]))}))}))},de.sphere=function(x){function T(T,C){T*=2*Q,C*=Q;var H=new qb(E(T)*P(C),E(C),P(T)*P(C));p.push(new ug(h.$20n(H.$21n(s)),H))}x=x||{};for(var p,h=new qb(x.center||[0,0,0]),s=x.radius||1,C=x.slices||16,u=x.stacks||8,W=[],X=0;C>X;X++)for(var v=0;u>v;v++)p=[],T(X/C,v/u),v>0&&T((X+1)/C,v/u),u-1>v&&T((X+1)/C,(v+1)/u),T(X/C,(v+1)/u),W.push(new Do(p));return de.$15n(W)},de.cylinder=function(I){function W(u,i,B){var I=2*i*Q,H=_.$21n(E(I)).$20n(M.$21n(P(I))),r=Z.$20n(j.$21n(u)).$20n(H.$21n(t)),y=H.$21n(1-l(B)).$20n(A.$21n(B));return new ug(r,y)}I=I||{};for(var Z=new qb(I.start||[0,-1,0]),q=new qb(I.end||[0,1,0]),j=q.$13n(Z),t=I.radius||1,X=I.slices||16,A=j.$14n(),d=l(A.y)>.5,_=new qb(d,!d,0).$12n(A).$14n(),M=_.$12n(A).$14n(),G=new ug(Z,A.$11n()),C=new ug(q,A.$14n()),w=[],e=0;X>e;e++){var F=e/X,J=(e+1)/X;w.push(new Do([G,W(0,F,-1),W(0,J,-1)])),w.push(new Do([W(0,J,0),W(0,F,0),W(1,F,0),W(1,J,0)])),w.push(new Do([C,W(1,J,1),W(1,F,1)]))}return de.$15n(w)};var qb=function(u,k,$){var N=this;3==arguments.length?(N.x=u,N.y=k,N.z=$):"x"in u?(N.x=u.x,N.y=u.y,N.z=u.z):(N.x=u[0],N.y=u[1],N.z=u[2])};qb.prototype={clone:function(){return new qb(this.x,this.y,this.z)},$11n:function(){return new qb(-this.x,-this.y,-this.z)},$20n:function(I){return new qb(this.x+I.x,this.y+I.y,this.z+I.z)},$13n:function(E){return new qb(this.x-E.x,this.y-E.y,this.z-E.z)},$21n:function(C){return new qb(this.x*C,this.y*C,this.z*C)},$16n:function(t){return new qb(this.x/t,this.y/t,this.z/t)},$23n:function($){return this.x*$.x+this.y*$.y+this.z*$.z},lerp:function(k,i){return this.$20n(k.$13n(this).$21n(i))},length:function(){return S(this.$23n(this))},$14n:function(){return this.$16n(this.length())},$12n:function(g){var y=this;return new qb(y.y*g.z-y.z*g.y,y.z*g.x-y.x*g.z,y.x*g.y-y.y*g.x)}};var ug=function(o,s,y){var z=this;z.$24n=new qb(o),z.$22n=new qb(s),z.uv=y?new qb(y):null};ug.prototype={clone:function(){var l=this;return new ug(l.$24n.clone(),l.$22n.clone(),l.uv?l.uv.clone():null)},flip:function(){this.$22n=this.$22n.$11n()},$18n:function(I,q){var M=this;return new ug(M.$24n.lerp(I.$24n,q),M.$22n.lerp(I.$22n,q),M.uv?M.uv.lerp(I.uv,q):null)}};var Gr=function(R,M){this.$22n=R,this.w=M};Gr.$17n=function(n,K,W){var x=K.$13n(n).$12n(W.$13n(n)).$14n();return new Gr(x,x.$23n(n))},Gr.prototype={clone:function(){return new Gr(this.$22n.clone(),this.w)},flip:function(){var u=this;u.$22n=u.$22n.$11n(),u.w=-u.w},$5n:function(J,A,b,$,o){for(var x=this,t=0,f=1,F=2,W=3,q=0,K=[],D=0;D<J.$9n.length;D++){var Q=x.$22n.$23n(J.$9n[D].$24n)-x.w,C=-k>Q?F:Q>k?f:t;q|=C,K.push(C)}switch(q){case t:(x.$22n.$23n(J.$8n.$22n)>0?A:b).push(J);break;case f:$.push(J);break;case F:o.push(J);break;case W:for(var s=[],z=[],D=0;D<J.$9n.length;D++){var M=(D+1)%J.$9n.length,I=K[D],a=K[M],U=J.$9n[D],_=J.$9n[M];if(I!=F&&s.push(U),I!=f&&z.push(I!=F?U.clone():U),(I|a)==W){var Q=(x.w-this.$22n.$23n(U.$24n))/x.$22n.$23n(_.$24n.$13n(U.$24n)),m=U.$18n(_,Q);s.push(m),z.push(m.clone())}}s.length>=3&&$.push(new Do(s,J.$10n)),z.length>=3&&o.push(new Do(z,J.$10n))}}};var Do=function(e,H){var c=this;c.$9n=e,c.$10n=H,c.$8n=Gr.$17n(e[0].$24n,e[1].$24n,e[2].$24n)};Do.prototype={clone:function(){var p=this.$9n.map(function(g){return g.clone()});return new Do(p,this.$10n)},flip:function(){this.$9n.reverse().map(function(J){J.flip()}),this.$8n.flip()}};var Hg=function(j){var F=this;F.$8n=null,F.front=null,F.back=null,F.$4n=[],j&&F.$7n(j)};Hg.prototype={clone:function(){var j=this,G=new Hg;return G.$8n=j.$8n&&j.$8n.clone(),G.front=j.front&&j.front.clone(),G.back=j.back&&j.back.clone(),G.$4n=j.$4n.map(function(Z){return Z.clone()}),G},$6n:function(){for(var p=this,Y=0;Y<p.$4n.length;Y++)p.$4n[Y].flip();p.$8n.flip(),p.front&&p.front.$6n(),p.back&&p.back.$6n();var w=p.front;p.front=p.back,p.back=w},$1n:function(a){var C=this;if(!C.$8n)return a.slice();for(var V=[],W=[],c=0;c<a.length;c++)C.$8n.$5n(a[c],V,W,V,W);return C.front&&(V=C.front.$1n(V)),W=C.back?C.back.$1n(W):[],V.concat(W)},$3n:function(E){var w=this;w.$4n=E.$1n(w.$4n),w.front&&w.front.$3n(E),w.back&&w.back.$3n(E)},$2n:function(){var D=this,v=D.$4n.slice();return D.front&&(v=v.concat(D.front.$2n())),D.back&&(v=v.concat(D.back.$2n())),v},$7n:function(B){var f=this;if(B.length){f.$8n||(f.$8n=B[0].$8n.clone());for(var m=[],C=[],K=0;K<B.length;K++)this.$8n.$5n(B[K],f.$4n,f.$4n,m,C);m.length&&(f.front||(f.front=new Hg),this.front.$7n(m)),C.length&&(f.back||(f.back=new Hg),f.back.$7n(C))}}};var Lj="symbol",wr=F.Symbol=function(z,l,I){var n=this;i(wr,n),n.s3(20,20,20),n.s({"all.visible":!1,shape:"rect"}),n.setIcon(z,l,I)};a("Symbol",L,{setIcon:function(V,l,R){var C,c=this;return wr.superClass.setIcon.call(c,V),V?(C={for3d:!0,face:"center",position:44,names:[V]},R&&(C.transaprent=!0),l&&(C.autorotate=l),c.addStyleIcon(Lj,C)):c.removeStyleIcon(Lj),c.setWidth(A.getImageWidth($.getImage(V),c)||20),C}});var po=F.CSGNode=function(){i(po,this),this.s({shape:"rect","attach.thickness":1.001})},fp={position:1,width:1,height:1,rotation:1,rotationX:1,rotationZ:1,rotationMode:1,tall:1,elevation:1,"s:attach.cull":1,"s:attach.operation":1};a("CSGNode",L,{_22Q:function(){return Ci},onPropertyChanged:function(d){var W=this,V=W.getHost();po.superClass.onPropertyChanged.call(W,d),fp[d.property]&&(V instanceof wk||V instanceof po)&&V.fp("csgNodeChange",!0,!1)}});var Ci=function(K,L){i(Ci,this,[K,L])};x(Ci,I.Node3dUI,{_80o:function(N,j,g){var m=this;m._shape3d?Ci.superClass._80o.call(m,N,j,g):(p(m.gv),al.forEach(function(U){H(m,N,j,m[U],g)}))},validate:function(Z,v){var R=this,p=R.gv,O=R.data;if(O.s("shape3d"))return Ci.superClass.validate.call(R,Z,v),R._shape3d=!0,void 0;R._shape3d=!1;var Y=G(O,p.getMat(O)),T=Z&&Z.uv;R.vf2("csg",T);for(var s=0;6>s;s++)for(var S=Sk[s],b=rj[s],X=R.vf2(S,T,v),U=X.mat||Y,D=X.vs,H=X.uv,K=X.tuv,k=0;2>k;k++){var W=N[b+3*k],B=N[b+3*k+1],C=N[b+3*k+2];if(J(D,U,[n[3*W],n[3*W+1],n[3*W+2]]),J(D,U,[n[3*B],n[3*B+1],n[3*B+2]]),J(D,U,[n[3*C],n[3*C+1],n[3*C+2]]),K)if(H){var l=8*s;K.push(H[2*W-l],H[2*W+1-l],H[2*B-l],H[2*B+1-l],H[2*C-l],H[2*C+1-l])}else K.push(m[2*W],m[2*W+1],m[2*B],m[2*B+1],m[2*C],m[2*C+1])}Be(R,Z,v)},vf2:function(l,t,C){var P,K=this,F=K.gv.getFaceVisible(K.data,l);return P=j(K,l,C),P.vs=[],P.tuv=F&&(P.texture||t)?[]:D,P.visible=F,P}});var wk=F.CSGShape=function(){var y=this;i(wk,y),y.s({"shape.background":D,"shape.border.width":8}),y.setTall(240),y.setElevation(120),y.setThickness(14)};a("CSGShape",W,{IRotatable:!1,_22Q:function(){return Hk},setRotationX:function(){},setRotation:function(){},setRotationZ:function(){},setSegments:function(){}});var Hk=function(W,_){i(Hk,this,[W,_])};x(Hk,I.Shape3dUI,{_80o:function(G,w,$){var N=this;N.undrawable||(p(N.gv),al.forEach(function(u){H(N,G,w,N[u],$)}))},validate:function(v,s){var h=this,W=h.data,P=W.getPoints();if(h.undrawable=P.size()<2)return h.clear(),void 0;var r=W.isClosePath(),V=y(W._thickness/2,k),E=e(P,D,D,r);al.forEach(function(L){h.vf(L,v&&v.uv,!0,s)}),r&&(h.left.visible=!1,h.right.visible=!1),h._12O(E,V),h._20Q(E),Be(h,v,s)}});var Od=F.DoorWindow=function(){var t=this;i(Od,t),t.setElevation(100),t.s3(100,200,14)};a("DoorWindow",po,{IDoorWindow:!0,toggle:function(w){this.setExpanded(!this.s(z),w)},isExpanded:function(){return this.s(z)},setExpanded:function(m,E){var J=this,_=J.$25n,T=J.getDataModel(),A=J.s(z);if(_&&(_.stop(!0),delete J.$25n),A!==m){T&&T.beginTransaction();var R=m?J.s("dw.end"):J.s("dw.start");J.s(z,m),E=K(E),E?(A=J.s(s),E.action=function(Q){J.s(s,A+(R-A)*Q)},E.finishFunc=function(){T&&T.endTransaction()},J.$25n=B(E)):(J.s(s,R),T&&T.endTransaction())}},getMat:function(){var m=this,g=m.s("dw.s3"),Y=m.s("dw.t3"),x=m.s("dw.flip"),R=m.s(s);if(g||R||Y||x){var i=[];if(x&&i.push({r3:[0,Q,0]}),g&&i.push({s3:g}),R){g=m.s3();var d=m.s("dw.axis"),Z=g[0]/2,M=g[1]/2;g[2]/2,d===w?i.push({t3:[Z,0,0]},{r3:[0,-R,0]},{t3:[-Z,0,0]}):d===o?i.push({t3:[-Z,0,0]},{r3:[0,R,0]},{t3:[Z,0,0]}):d===b?i.push({t3:[0,-M,0]},{r3:[-R,0,0]},{t3:[0,M,0]}):d===C?i.push({t3:[0,M,0]},{r3:[R,0,0]},{t3:[0,-M,0]}):d===T?i.push({r3:[0,R,0]}):d===v&&i.push({r3:[R,0,0]})}return Y&&i.push({t3:Y}),c(i)}return D}});var Kb=F.CSGBox=function(){var s=this;i(Kb,s),s.setElevation(100),s.s3(100,200,100)};a("CSGBox",po,{ICSGBox:!0,toggleFace:function(N,F){this.setFaceExpanded(N,!this.s(N+t),F)},isFaceExpanded:function(l){return this.s(l+t)},setFaceExpanded:function(z,c,L){var v=this,o=v.$25n,h=v.s(z+t);if(o&&(o.stop(!0),delete v.$25n),h!==c){var N=c?v.s(z+".end"):v.s(z+".start");v.s(z+t,c),L=K(L),L?(h=v.s(z+V),L.action=function(l){v.s(z+V,h+(N-h)*l)},v.$25n=B(L)):v.s(z+V,N)}},getFaceMat:function(S){var q=this,I=q.s(S+V);if(!I)return D;var Q=q.s(S+".axis"),R=q.s3(),j=R[0]/2,Z=R[1]/2,i=R[2]/2,B=[];return S===h&&(Q===w?B.push({t3:[j,0,-i]},{r3:[0,-I,0]},{t3:[-j,0,i]}):Q===o?B.push({t3:[-j,0,-i]},{r3:[0,I,0]},{t3:[j,0,i]}):Q===b?B.push({t3:[0,-Z,-i]},{r3:[-I,0,0]},{t3:[0,Z,i]}):Q===C?B.push({t3:[0,Z,-i]},{r3:[I,0,0]},{t3:[0,-Z,i]}):Q===T?B.push({t3:[0,0,-i]},{r3:[0,I,0]},{t3:[0,0,i]}):Q===v&&B.push({t3:[0,0,-i]},{r3:[I,0,0]},{t3:[0,0,i]})),S===r&&(Q===w?B.push({t3:[-j,0,i]},{r3:[0,-I,0]},{t3:[j,0,-i]}):Q===o?B.push({t3:[j,0,i]},{r3:[0,I,0]},{t3:[-j,0,-i]}):Q===b?B.push({t3:[0,-Z,i]},{r3:[I,0,0]},{t3:[0,Z,-i]}):Q===C?B.push({t3:[0,Z,i]},{r3:[-I,0,0]},{t3:[0,-Z,-i]}):Q===T?B.push({t3:[0,0,i]},{r3:[0,I,0]},{t3:[0,0,-i]}):Q===v&&B.push({t3:[0,0,i]},{r3:[I,0,0]},{t3:[0,0,-i]})),S===w&&(Q===w?B.push({t3:[j,0,i]},{r3:[0,-I,0]},{t3:[-j,0,-i]}):Q===o?B.push({t3:[j,0,-i]},{r3:[0,I,0]},{t3:[-j,0,i]}):Q===b?B.push({t3:[j,-Z,0]},{r3:[0,0,-I]},{t3:[-j,Z,0]}):Q===C?B.push({t3:[j,Z,0]},{r3:[0,0,I]},{t3:[-j,-Z,0]}):Q===T?B.push({t3:[j,0,0]},{r3:[0,I,0]},{t3:[-j,0,0]}):Q===v&&B.push({t3:[j,0,0]},{r3:[0,0,I]},{t3:[-j,0,0]})),S===o&&(Q===w?B.push({t3:[-j,0,-i]},{r3:[0,-I,0]},{t3:[j,0,i]}):Q===o?B.push({t3:[-j,0,i]},{r3:[0,I,0]},{t3:[j,0,-i]}):Q===b?B.push({t3:[-j,-Z,0]},{r3:[0,0,I]},{t3:[j,Z,0]}):Q===C?B.push({t3:[-j,Z,0]},{r3:[0,0,-I]},{t3:[j,-Z,0]}):Q===T?B.push({t3:[-j,0,0]},{r3:[0,I,0]},{t3:[j,0,0]}):Q===v&&B.push({t3:[-j,0,0]},{r3:[0,0,I]},{t3:[j,0,0]})),S===b&&(Q===w?B.push({t3:[j,-Z,0]},{r3:[0,0,I]},{t3:[-j,Z,0]}):Q===o?B.push({t3:[-j,-Z,0]},{r3:[0,0,-I]},{t3:[j,Z,0]}):Q===b?B.push({t3:[0,-Z,i]},{r3:[-I,0,0]},{t3:[0,Z,-i]}):Q===C?B.push({t3:[0,-Z,-i]},{r3:[I,0,0]},{t3:[0,Z,i]}):Q===T?B.push({t3:[0,-Z,0]},{r3:[0,0,I]},{t3:[0,Z,0]}):Q===v&&B.push({t3:[0,-Z,0]},{r3:[I,0,0]},{t3:[0,Z,0]})),S===C&&(Q===w?B.push({t3:[j,Z,0]},{r3:[0,0,-I]},{t3:[-j,-Z,0]}):Q===o?B.push({t3:[-j,Z,0]},{r3:[0,0,I]},{t3:[j,-Z,0]}):Q===b?B.push({t3:[0,Z,-i]},{r3:[-I,0,0]},{t3:[0,-Z,i]}):Q===C?B.push({t3:[0,Z,i]},{r3:[I,0,0]},{t3:[0,-Z,-i]}):Q===T?B.push({t3:[0,Z,0]},{r3:[0,0,I]},{t3:[0,-Z,0]}):Q===v&&B.push({t3:[0,Z,0]},{r3:[I,0,0]},{t3:[0,-Z,0]})),c(B)}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);
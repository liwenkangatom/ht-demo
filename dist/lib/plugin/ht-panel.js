!function(O,H,X){"use strict";var f="ht",g=O[f],e=g.Default,L=e.isTouchable,C=g.Color,V="px",v="0",j="innerHTML",A="className",P="position",p="absolute",N="width",n="height",I="left",K="top",y="right",$="bottom",l="max-width",t="max-height",S=null,c="none",M="",r=O.parseInt,i=O.setTimeout,B=e.getInternal(),_=e.animate,u=C.titleIconBackground,G=function(){return document},R=function(p){return G().createElement(p)},h=function(){return R("div")},T=function(){return R("canvas")},D=function(m,f,B){m.style.setProperty(f,B,S)},q=function(V,L){return V.style.getPropertyValue(L)},o=function(e,n){e.appendChild(n)},U=function(o,G){o.removeChild(G)},m=e.eventListenerOptionsFalse,E=(e.eventListenerOptionsTrue,function(E,M,J,i){E.addEventListener(M,J,i?m:m)}),Y=function(H){var a=H.scrollWidth,h=H.scrollHeight;return H===G().body&&(a=Math.max(a,G().documentElement.scrollWidth),h=Math.max(h,G().documentElement.scrollHeight)),{width:a,height:h}},k=function(H){var R=H.touches[0];return R?R:H.changedTouches[0]};B.addMethod(e,{panelExpandIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:u,rotation:3.14}]},panelCollapseIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:u}]},panelLockIcon:{width:100,height:100,comps:[{type:"roundRect",rect:[10,50,80,40],borderWidth:10,borderColor:u},{type:"shape",points:[37,45,37,20,37,13,43,13,63,13,69,13,70,19,70,44],segments:[1,2,3,2,3,2],borderWidth:10,borderColor:u}]},panelUnLockIcon:{width:100,height:100,comps:[{type:"roundRect",rect:[10,50,80,40],borderWidth:10,borderColor:u},{type:"shape",points:[37,45,37,20,37,13,43,13,63,13,69,13,70,19,70,26],segments:[1,2,3,2,3,2],borderWidth:10,borderColor:u}]},panelMinimizeIcon:{width:100,height:100,comps:[{type:"shape",points:[10,35,35,35,35,10],segments:[1,2,2],borderWidth:8,borderColor:u},{type:"shape",points:[90,35,65,35,65,10],segments:[1,2,2],borderWidth:8,borderColor:u},{type:"shape",points:[10,65,35,65,35,90],segments:[1,2,2],borderWidth:8,borderColor:u},{type:"shape",points:[65,90,65,65,90,65],segments:[1,2,2],borderWidth:8,borderColor:u}]},panelRestoreIcon:{width:300,height:300,comps:[{type:"rect",rect:[10,24,268,56],background:u},{type:"rect",rect:[10,118,268,56],background:u},{type:"rect",rect:[10,213,268,56],background:u}]},panelTitleLabelColor:e.labelSelectColor,panelTitleLabelFont:e.labelFont,panelContentLabelFont:e.labelFont,panelTitleBackground:C.titleBackground,panelSeparatorWidth:1,panelSeparatorColor:X},!0);var w=g.widget.Panel=function(y){var s=this,G=s._view=B.createView(null,s);s.$1i=0,s.$18i=new g.Notifier,s.$2i="leftTop",D(G,K,v),D(G,I,v),D(G,P,p),D(G,"overflow","hidden"),s._interactor=new F(s),s.setConfig(y),s.addEventListener(function(m){var U=s.getPanelConfig(m.id),e=U.content;("beginRestore"===m.kind||"betweenResize"===m.kind||"endToggle"===m.kind)&&(e&&e.invalidate&&e.invalidate(),U.items&&U.items.forEach(function(F){F&&F.content&&F.content.invalidate&&F.content.invalidate()}))})};e.def(w,H,{ms_v:1,_dragContainment:"parent",setConfig:function(d){function i(f){f.expanded=!f.expanded,_.togglePanel(f.id,!0,!0)}if(d){for(var _=this,k=_._view.parentNode;this._view.children.length;)this._view.removeChild(this._view.children[0]);_._config=d,_.$35i=[],d.expanded==S&&(d.expanded=d.expand!=S?d.expand:!0);var r=_._view,m=_.$24i(d,r,!0),F=m[2],e=d.width;_.$35i.push(m[1]),d.items&&d.items.forEach(function(K){K.expanded==S&&(K.expanded=K.expand!=S?K.expand:!0);var U=_.$24i(K,F.children[0]);_.$35i.push(U[1])});var K=h();D(K,N,10+V),D(K,n,10+V),D(K,P,p),D(K,$,v),D(K,y,v),K[A]="resize-area",o(r,K),_.$10i(),d.flowLayout&&D(r,P,"relative"),D(r,"opacity",v),o(G().body,r),e==S&&(e=r.offsetWidth),D(r,N,e+V),D(r,l,e+V);var q=d.content;q&&q.isSelfViewEvent&&(q.setX(0),q.setY(0),q.setWidth(e-2*(d.borderWidth||0)),q.setHeight(d.contentHeight)),d.items&&d.items.forEach(function(_){i(_)}),d.buttons&&d.buttons.indexOf("toggle")<0||i(d),d.minimized==S&&d.minimize!=S&&(d.minimized=d.minimize),d.minimized&&d.minimizable!==!1&&_.minimize(!0),U(G().body,r),D(r,"opacity",M),k&&o(k,r),_.iv()}},getPanelConfig:function(n){var V=this,p=V._config,y=p.items;if(p.id===n)return p;if(y)for(var m=0;m<y.length;m++){var I=y[m];if(I.id===n)return I}},getPanelView:function(B){for(var J=this,v=J.$35i,q=0;q<v.length;q++){var X=v[q],l=X.parentNode;if(l.$15i===B)return l}},setDragContainment:function(Z){this._dragContainment=Z},getDragContainment:function(){return this._dragContainment},$20i:function(){var p=this._config,$=p.restoreIconSize||24;return $},$5i:function(z){var V=z.titleIconSize||16;return L&&(V*=1.2),V},$4i:function(H){var y=H.titleHeight||e.widgetTitleHeight;return y},setTitle:function(F,M){if(M==S&&(M=this._config.id),M!=S){var z=this.getPanelConfig(M),C=this.getPanelView(M);z.title=F,C.querySelector(".panel-title span").innerHTML=F}},setInnerPanel:function(L){var W,r,w=this,E=L.id,n=w.$35i,e=!1;if(L.expanded==S&&(L.expanded=!0),E!=S){var x=w.getPanelConfig(E);if(x){e=!0;var F,l=w.getPanelView(E),c=l.parentNode,C=l.children[0];if(l!==w._view){w.$11i();for(F in x)delete x.key;for(F in L)x[F]=L[F];W=w.$24i(L,c,!1,l),r=W[1],c.removeChild(l);for(var m=0;m<n.length;m++)if(n[m]===C){n.splice(m,1,r);break}w.$12i(),x.expanded=!x.expanded,w.togglePanel(x.id,!0,!0),w.iv()}}}if(!e){w.$11i(),W=w.$24i(L,w._view.children[1]),r=W[1],n.push(r),w._config.items||(w._config.items=[]);var P=w._config.items;if(P.push(L),w.$12i(),P.length>1){var a=P[P.length-2],t=w.getPanelView(a.id).children[0];D(t,"border-bottom",w.$55i(a))}L.expanded=!L.expanded,w.togglePanel(L.id,!0,!0),w.iv()}},removeInnerPanel:function(f){var W,o=this,J=-1,y=o._config.items;if(y)for(W=0;W<y.length;W++){var u=y[W];if(u.id===f){J=W;break}}if(o.$11i(),J>=0){var Y=o.$35i,c=o.getPanelView(f),E=c.children[0];for(W=0;W<Y.length;W++)if(Y[W]===E){Y.splice(W,1);break}y.splice(J,1),c.parentNode.removeChild(c)}if(o.$12i(),y.length>0){var e=y[y.length-1],d=o.getPanelView(e.id).children[0];D(d,"border-bottom",o.$55i(e))}},$6i:function(r){D(r,"cursor","pointer"),D(r,"display","inline-block"),D(r,"margin-right",(L?8:4)+V),D(r,"vertical-align",K)},$24i:function(H,Q,u,N){var b=this,z=b._config.flowLayout,y=u?Q:h(),G=b.$50i(H),F=b.$3i(H,u);y[A]="ht-widget-panel"+(u?" outer-panel":" inner-panel"),H.borderWidth==S&&(H.borderWidth=u?2:0);var w=H.borderWidth;if(w="0 "+w+V+" "+w+V+" "+w+V+" ",D(y,"border-width",w),D(y,"border-color",H.titleBackground||e.panelTitleBackground),D(y,"border-style","solid"),o(y,F),o(y,G),u||(N?Q.insertBefore(y,N):o(Q,y)),!z&&u&&H.minimizable!==!1){var f=T(),s=b.$20i(),L=H.restoreToolTip;B.setCanvas(f,s,s),f[A]="control-button button-minimize button-minimize-restore",b.$6i(f),D(f,"display","none"),o(Q,f),f.title=L||""}var P=H.panelBackground||H.titleBackground||e.panelTitleBackground;if(D(y,"background-color",P),H.id==S){for(var M=b.$1i++;b.getPanelConfig(M);)M=b.$1i++;H.id=M}return y.$15i=H.id,H.width&&(y.style.width=H.width+V),[y,F,G]},$9i:function(g){var _=T();_[A]="control-button button-toggle button-toggle-expand",_.title=g.toggleToolTip||"";var d=this.$4i(g),c=this.$5i(g);return this.$6i(_),B.setCanvas(_,c,d),_},$8i:function(E){var o=T(),p="control-button button-independent-switch";o[A]=E.independent===!0?p+" button-independent-switch-on":p+" button-independent-switch-off",o.title=E.independentSwitchToolTip||"";var w=this.$4i(E),f=this.$5i(E);return this.$6i(o),B.setCanvas(o,f,w),o},$7i:function(H){var q=T();q[A]="control-button button-minimize button-minimize-minimize",q.title=H.minimizeToolTip||"";var c=this.$4i(H),D=this.$5i(H);return this.$6i(q),B.setCanvas(q,D,c),q},$55i:function(I){var z=this._config,i=z.items,D=I.separatorWidth||e.panelSeparatorWidth,d=I.titleBackground||e.panelTitleBackground,m=I.expanded!==!1?d:I.separatorColor||e.panelSeparatorColor||e.brighter(d);return(z===I||i&&i.indexOf(I)===i.length-1)&&(D=0),D+V+" solid "+m},$3i:function(C,Z){var a=this,q=a._config.flowLayout,O=h(),z=h(),m=a.$4i(C),c=C.titleBackground,L=C.titleColor,g=C.titleIcon,Q=C.buttons;if(O[A]="panel-title",D(O,P,"relative"),D(O,"background",c||e.panelTitleBackground),D(O,"color",L||e.panelTitleLabelColor),D(O,K,v),D(O,"box-sizing","border-box"),D(O,"-moz-box-sizing","border-box"),D(O,"padding","0 5px 0 0"),D(O,N,"100%"),D(O,"cursor","default"),D(O,"white-space","nowrap"),D(O,"font",e.panelTitleLabelFont),g){var F=T();F[A]="control-button panel-title-icon";var x=a.$4i(C),G=a.$5i(C);a.$6i(F),B.setCanvas(F,G,x),o(O,F)}var J=R("span");D(J,"display","inline-block"),D(J,"margin-left","5px"),J[j]="<span>"+C.title+"</span>",o(O,J),D(O,"line-height",m+V),z[A]="panel-title-controls",D(z,P,p),D(z,I,v),D(z,y,5+V),D(z,K,v),D(z,$,v),D(z,"text-align",y);var _=function(){var Q=a.$9i(C);o(z,Q)},Y=function(){if(!q&&Z&&C.minimizable!==!1){var g=a.$7i(C);o(z,g)}},w=function(){if(!Z){var E=a.$8i(C);o(z,E)}},l=function(r){var q=T();q[A]="control-button custombutton-"+r.name,q.title=r.toolTip||"",q._action=r.action;var Y=a.$4i(C),p=a.$5i(C);a.$6i(q),B.setCanvas(q,p,Y),o(z,q)};if(Q)for(var s=0;s<Q.length;s++){var k=Q[s];"string"==typeof k?"minimize"===k?Y():"independentSwitch"===k?w():"toggle"===k&&_():"object"==typeof k&&l(k)}else Y(),_();return o(O,z),O},$50i:function(m){var t=h(),B=m.contentHeight,u=h();D(u,P,"relative"),t[A]="panel-body",D(t,"overflow","hidden");var S=m.contentBackground;if(S===X&&(S="white"),D(t,"background",S),D(t,"font",e.panelContentLabelFont),o(t,u),m.content){var _,k=m.content;k.getView?(o(u,k.getView()),_=u.children[0]):k instanceof Element?(o(u,k),_=u.children[0]):u[j]=k,k.isSelfViewEvent||_&&(D(_,N,"100%"),D(_,n,"100%")),B&&D(u,n,B+V)}return t},$10i:function(){var h=this,l=h._config,n=h._view,V=n.querySelector(".resize-area").style;V.display=l.flowLayout||l.minimized===!0||l.expanded===!1?c:"block"},$11i:function(){var r=this._view,H=r.children[1];this.$13i>=0?this.$13i++:this.$13i=1,D(H,t,M),D(r,l,M)},$12i:function(){var Q=--this.$13i;if(0===Q){var W=this._view,v=W.children[1];D(v,t,v.scrollHeight+V),D(W,l,W.offsetWidth+V)}},$14i:function(){var f=this._view,V=f.children[0],c=V.children[1].children,e=this._config,b=0;f.$26i=f.offsetWidth,b+=V.children[0].offsetWidth,e.titleIcon&&(b+=V.children[1].offsetWidth,c=V.children[2].children);for(var n=0;n<c.length;n++){var h=c[n];b+=h.offsetWidth+5}f.$51i=b+15},togglePanel:function(E,q,f){function U(g){var x=g.target,S=x.parentNode,V=B.getPanelConfig(S.$15i);delete S.$19i,x!==R&&B.$12i(),B.$18i.fire({kind:"endToggle",target:B,id:V.id})}for(var B=this,F=B._view,R=F.children[1],H=S,x=B.$35i,c=x.length,X=B._config.exclusive,I=B.$2i,$=[],T=B._config.narrowWhenCollapse,K=0;c>K;K++){var C=x[K],k=C.parentNode,Y=k.$15i,O=B.getPanelConfig(Y);Y===E&&(H=k),!q&&X&&O.expanded&&k!==F&&Y!==E&&O.independent!==!0&&$.push(k)}if(H&&!H.$19i){H.$19i=!0;var e=H.children[1],J=H.querySelector(".button-toggle"),P=B.getPanelConfig(H.$15i);if(!J)return;H===F||P.expanded||P.independent===!0||$.forEach(function(g){B.togglePanel(g.$15i,!0)}),H!==F&&B.$11i();var p=200;if(f&&(p=0),B.$18i.fire({kind:"beginToggle",target:B,id:H.$15i}),P.expanded){var w=function(){J[A]="control-button button-toggle",J[A]+=I.indexOf("Bottom")>=0?" button-toggle-expand":" button-toggle-collapse",D(e,N,e.clientWidth+V),P.expanded=!1,D(H.children[0],"border-bottom",B.$55i(P)),_(e).duration(p).set("opacity",v).set(t,v).end(U),T&&H===F&&_(H).duration(p).set(l,H.$51i+V).end(),H[A]+=" panel-collapse",_(H).duration(p).set("padding-bottom",v).end(),B.$28i(P,!0),B.$10i()};T&&H===F&&B.$14i(),w()}else J[A]="control-button button-toggle",J[A]+=I.indexOf("Bottom")>=0?" button-toggle-collapse":" button-toggle-expand",D(e,N,M),P.expanded=!0,D(H.children[0],"border-bottom",B.$55i(P)),_(e).duration(p).set("opacity","1").set(t,e.scrollHeight+V).end(U),T&&H===F&&_(H).duration(p).set(l,(H.$26i||H.offsetWidth)+V).end(),H[A]=H[A].replace(" panel-collapse",M),_(H).duration(p).end(),B.$28i(P,!0),B.$10i()}},$16i:function(){var v=this._view,Y=v.$22i,$=v.$23i,k=this.$2i;return Y==S&&(k.indexOf(I)>=0?Y=v.$22i=0:k.indexOf(y)>=0&&(Y=v.$22i=100)),$==S&&(k.indexOf("Top")>=0?$=v.$23i=0:k.indexOf("Bottom")>=0&&($=v.$23i=100)),[Y,$]},$25i:function(){var x=this,L=x._view,S=L.$21i,E=x.$20i(),g=x.$16i(),b=g[0],u=g[1],n=x.$2i;L.children[0].style.display=c,L.children[1].style.display=c,L.children[2].style.display=M,D(L,"padding",v),D(L,l,E+V),"leftTop"===n?(D(L,I,r(q(L,I))+(S.width-E)*b/100+V),D(L,K,r(q(L,K))+(S.height-E)*u/100+V)):"leftBottom"===n?(D(L,I,r(q(L,I))+(S.width-E)*b/100+V),D(L,$,r(q(L,$))+(S.height-E)*(1-u/100)+V)):"rightTop"===n?(D(L,y,r(q(L,y))+(S.width-E)*(1-b/100)+V),D(L,K,r(q(L,K))+(S.height-E)*u/100+V)):"rightBottom"===n&&(D(L,y,r(q(L,y))+(S.width-E)*(1-b/100)+V),D(L,$,r(q(L,$))+(S.height-E)*(1-u/100)+V)),L[A]+=" panel-minimized",x.$18i.fire({kind:"endMinimize",target:x,id:L.$15i})},$17i:function(){var l=this,f=l._config,z=l._view;D(z,"-webkit-transform",M),D(z,"-ms-transform",M),D(z,"transform",M),f.minimized?l.$25i():(l.$18i.fire({kind:"endRestore",target:l,id:f.id}),z[A]=z[A].replace(" panel-minimized",M)),delete z.$19i},minimize:function(a){var Y=this,f=Y._view;if(!f.$19i&&f.children[0].style.display!==c){var X=Y._config,M=f.getBoundingClientRect(),N=Y.$20i(),r=M.width,w=M.height,$=N/r,q=N/w,h=Y.$16i(),n=h[0],B=h[1];f.$52i=$,f.$53i=q,f.$21i=M,Y.$18i.fire({kind:"beginMinimize",target:Y,id:f.$15i});var i=200;a&&(i=0),X.minimized=!0,f.$19i=!0,X.expanded&&(f.$26i=f.offsetWidth);var k=n+"% "+B+"%";D(f,"-webkit-transform-origin",k),D(f,"-ms-transform-origin",k),D(f,"transform-origin",k),_(f).duration(i).scale($,q).end(function(){Y.$17i()}),Y.$10i()}},restore:function(){var X,d,P,E,m,n,z,H,b,M,W,C,L=this,v=L._view,U=v.parentNode,o=L._config;if(!v.$19i&&o.minimized){var h=v.$21i,G=v.$52i,T=v.$53i,R=(o.borderWidth+V,L.$20i()),Q=Y(U),t=L.$2i;"leftTop"===t?(X=r(q(v,I)),P=r(q(v,K)),m=X,z=P,b=X+h.width-Q.width,M=P+h.height-Q.height,b>0&&(b>=X?X=0:X-=b),M>0&&(M>=P?P=0:P-=M),W=100*((m-X)/(h.width-R)),C=100*((z-P)/(h.height-R)),D(v,I,X+V),D(v,K,P+V)):"leftBottom"===t?(X=r(q(v,I)),E=r(q(v,$)),m=X,H=E,b=X+h.width-Q.width,M=E+h.height-Q.height,b>0&&(b>=X?X=0:X-=b),M>0&&(M>=E?E=0:E-=M),W=100*((m-X)/(h.width-R)),C=100*(1-(H-E)/(h.height-R)),D(v,I,X+V),D(v,$,E+V)):"rightTop"===t?(d=r(q(v,y)),P=r(q(v,K)),n=d,z=P,b=d+h.width-Q.width,M=P+h.height-Q.height,b>0&&(b>=d?d=0:d-=b),M>0&&(M>=P?P=0:P-=M),W=100*(1-(n-d)/(h.width-R)),C=100*((z-P)/(h.height-R)),D(v,y,d+V),D(v,K,P+V)):"rightBottom"===t&&(d=r(q(v,y)),E=r(q(v,$)),n=d,H=E,b=d+h.width-Q.width,M=E+h.height-Q.height,b>0&&(b>=d?d=0:d-=b),M>0&&(M>=E?E=0:E-=M),W=100*(1-(n-d)/(h.width-R)),C=100*(1-(H-E)/(h.height-R)),D(v,y,d+V),D(v,$,E+V)),v.children[0].style.display="block",v.children[1].style.display="block",v.children[2].style.display=c,D(v,"-webkit-transform","scale("+G+", "+T+")"),D(v,"-ms-transform","scale("+G+", "+T+")"),D(v,"transform","scale("+G+", "+T+")"),v.$22i=W,v.$23i=C,D(v,"-webkit-transform-origin",W+"% "+C+"%"),D(v,"-ms-transform-origin",W+"% "+C+"%"),D(v,"transform-origin",W+"% "+C+"%"),o.narrowWhenCollapse&&!o.expanded?D(v,l,v.$51i+V):D(v,l,v.$26i+V),L.$18i.fire({kind:"beginRestore",target:L,id:v.$15i}),v.$19i=!0,o.minimized=!1,i(function(){_(v).scale(1,1).end(function(){L.$17i()})},30),L.$10i()}},addEventListener:function(l,n,x){this.$18i.add(l,n,x)},removeEventListener:function(E,U){this.$18i.remove(E,U)},setPosition:function(n,u){var O=this._view,w=this.$2i;"leftTop"===w?(D(O,I,n+V),D(O,K,u+V),D(O,y,M),D(O,$,M)):"leftBottom"===w?(D(O,I,n+V),D(O,$,u+V),D(O,y,M),D(O,K,M)):"rightTop"===w?(D(O,y,n+V),D(O,K,u+V),D(O,I,M),D(O,$,M)):"rightBottom"===w&&(D(O,y,n+V),D(O,$,u+V),D(O,I,M),D(O,K,M)),delete O.$22i,delete O.$23i},getPosition:function(){var w=this._view,p=this.$2i;return"leftTop"===p?{x:r(q(w,I)),y:r(q(w,K))}:"leftBottom"===p?{x:r(q(w,I)),y:r(q(w,$))}:"rightTop"===p?{x:r(q(w,y)),y:r(q(w,K))}:"rightBottom"===p?{x:r(q(w,y)),y:r(q(w,$))}:void 0},setPositionRelativeTo:function(D){var I=this,b=I._view.querySelectorAll(".button-toggle"),n="control-button button-toggle",d=I.getPosition();I.$2i=D,I.setPosition(d.x,d.y);for(var O=0;O<b.length;O++){var $=b[O],G=I.getPanelConfig($.parentNode.parentNode.parentNode.$15i);$[A]=G.expanded?D.indexOf("Bottom")>=0?n+" button-toggle-collapse":n+" button-toggle-expand":D.indexOf("Bottom")>=0?n+" button-toggle-expand":n+" button-toggle-collapse"}I.iv()},getPositionRelativeTo:function(){return this.$2i},invalidate:function(w){var m=this;m._68I||(m._68I=1,e.callLater(m.validate,m,S,w),m.onInvalidated&&m.onInvalidated(),m.fireViewEvent("invalidate"));var A=this._config,j=A.content;j&&j.invalidate&&j.invalidate(),A.items&&A.items.forEach(function(i){i&&i.content&&i.content.invalidate&&i.content.invalidate()})},getIconStretch:function(){var T=this._config.iconStretch||"fill";return T},$27i:function(A,c,M,X,v){var k=B.initContext(A);B.translateAndScale(k,0,0,1),k.clearRect(0,0,M,M);var W=(M-X)/2;e.drawStretchImage(k,e.getImage(c),this.getIconStretch(v),0,W,X,X),k.restore()},$28i:function(c){var H,M,r,n=this,Y=c.id,S=n.getPanelView(Y),D=S.querySelector(".button-toggle"),b=n.$2i.indexOf("Bottom")>=0;if(M=b?e.panelCollapseIcon:e.panelExpandIcon,r=b?e.panelExpandIcon:e.panelCollapseIcon,D){H=c.expanded?e.getImage(r):e.getImage(M);var T=n.$4i(c),z=n.$5i(c);n.$27i(D,H,T,z,"toggle")}},$29i:function(g){var h,K=this,R=g.id,S=K.getPanelView(R),E=S.querySelector(".button-independent-switch"),j=e.panelUnLockIcon,q=e.panelLockIcon;if(E){h=g.independent!==!0?e.getImage(q):e.getImage(j);var n=K.$4i(g),s=K.$5i(g);K.$27i(E,h,n,s,"switch")}},$30i:function(s){var Q=this,M=s.id,a=Q.getPanelView(M),I=a.querySelector(".button-minimize-minimize"),S=e.panelMinimizeIcon;if(I){var _=Q.$4i(s),Z=Q.$5i(s);Q.$27i(I,e.getImage(S),_,Z,"miminize")}},$31i:function(I){var N=this,W=I.id,q=N.getPanelView(W),d=q.querySelector(".button-minimize-restore"),Q=I.titleIcon||e.panelRestoreIcon;if(d){var F=N.$20i();N.$27i(d,e.getImage(Q),F,F,"restore")}},$32i:function(Q){var o=this,$=Q.id,L=o.getPanelView($);if(Q.buttons){var R=Q.buttons;R.forEach(function(M){var m=M.name,q=M.icon;if(m&&q){var D=L.querySelector(".custombutton-"+m);if(D){var y=o.$4i(Q),U=o.$5i(Q)-1;o.$27i(D,e.getImage(q),y,U,"custom")}}})}},$33i:function(V){var n=this,K=V.id,w=n.getPanelView(K),C=w.querySelector(".panel-title-icon"),l=V.titleIcon;if(C&&l){var _=n.$4i(V),S=n.$5i(V);n.$27i(C,e.getImage(l),_,S,"title")}},validateImpl:function(){var t=this,p=t._config;t.$28i(p),t.$30i(p),t.$31i(p),t.$32i(p),t.$33i(p),p.items&&p.items.forEach(function(y){t.$28i(y),t.$29i(y),t.$32i(y)})}});var F=function(q){var o=this,J=q.getView();o.$34i=q,o.addListeners(),E(J,"dblclick",o.$42i.bind(o))};e.def(F,H,{ms_listener:1,getView:function(){return this.$34i.getView()},clear:function(){delete this.$37i,delete this.$38i,delete this.$36i,delete this.$39i},$42i:function(f){for(var v=this.$34i,K=f.target,h=v.$35i,F=h.length,e=0;F>e;e++){var M=h[e];M.contains(K)&&(f.preventDefault(),v.togglePanel(M.parentNode.$15i))}},handle_touchstart:function(j){var s=this,g=s.$34i,T=g._config,P=T.flowLayout,w=j;if(e.isLeftButton(j)){var G=j.target,B=g.getView().children[0],H=g.getView().querySelector(".button-minimize-restore");L&&(w=k(j));var l=s.$40i={x:w.pageX,y:w.pageY};s.$41i={x:l.x,y:l.y},(!P&&B.contains(G)||H&&H.contains(G))&&(s.$38i=!0,e.startDragging(s,j)),!P&&s.handle_mousemove(j)&&(s.$37i=!0,e.startDragging(s,j),g.$11i())}},handle_mousedown:function(p){this.handle_touchstart(p)},handle_touchend:function(s){var i=this,z=i.$34i,k=s.target,y=z.$35i,R=y.length,D=0,p=z.getView(),W=p.querySelector(".button-minimize"),G=p.querySelector(".button-minimize-restore");if(!i.$39i&&!i.$36i){if(W&&W.contains(k)||G&&G.contains(k))s.preventDefault(),z._config.minimized?z.restore():z.minimize();else for(;R>D;D++){var O=y[D],I=O.parentNode,M=I.$15i,H=z.getPanelConfig(M),e=O.querySelector(".button-toggle"),f=O.querySelector(".button-independent-switch");if(e===k)s.preventDefault(),z.togglePanel(M);else if(f===k){s.preventDefault();var d="button-independent-switch-off",m="button-independent-switch-on";H.independent=H.independent==S?!0:!H.independent,f[A]=H.independent?f[A].replace(d,m):f[A].replace(m,d),z.$29i(H)}else k[A]&&k[A].indexOf("control-button custombutton-")>=0&&O.contains(k)&&k._action.call(z,H,z.getPanelView(M),s)}delete i.$40i,delete i.$41i}},handle_mouseup:function(O){this.handle_touchend(O)},handleWindowTouchEnd:function(){var K=this,g=K.$34i;K.$37i&&K.$36i?(g.$18i.fire({kind:"endResize",target:g,id:g.getView().$15i}),g.$12i()):K.$38i&&K.$39i&&g.$18i.fire({kind:"endMove",target:g,id:g.getView().$15i}),this.clear()},handleWindowMouseUp:function(J){this.handleWindowTouchEnd(J)},handle_mousemove:function(m){var O=this,T=O.getView(),Y=T.querySelector(".resize-area"),u=Y.getBoundingClientRect(),J={x:u.left,y:u.top,width:u.width,height:u.height};m=L?k(m):m;var G=m.clientX,t=m.clientY,W=O.$34i._config;return W.expanded&&W.minimized!==!0&&e.containsPoint(J,{x:G,y:t})?(T.style.cursor="nwse-resize",!0):(T.style.cursor=M,void 0)},handleWindowTouchMove:function(b){b.preventDefault();var c=b;L&&(c=k(b));var p=this,i=p.$40i,U=p.$41i;if(!(U.x==i.x&&U.y==i.y&&e.getDistance(U,{x:c.pageX,y:c.pageY})<=1)){var W=p.$34i,j=p.getView(),l=j.parentNode,g=W._config,M=g.resizeMode||"wh",E=c.pageX-i.x,o=c.pageY-i.y,B=W.$2i;if(p.$37i){var h=j.children[1].children[0],z=j.offsetWidth,G=h.offsetHeight,A=z+E,X=G+o;A=Math.max(A,100),X=Math.max(X,100),"w"===M?(D(j,N,A+V),g.width=A):"h"===M?(D(h,n,X+V),g.contentHeight=X):"wh"===M&&(D(j,N,A+V),D(h,n,X+V),g.width=A,g.contentHeight=X),B.indexOf("right")>=0&&D(j,y,r(q(j,y))-(A-z)+V),B.indexOf("Bottom")>=0&&D(j,$,r(q(j,$))-(X-G)+V),i.x=c.pageX,i.y=c.pageY;var s=g.content;s&&s.isSelfViewEvent&&(s.setX(0),s.setY(0),s.setWidth(g.width-2*(g.borderWidth||0)),s.setHeight(g.contentHeight)),p.$36i?W.$18i.fire({kind:"betweenResize",target:W,id:W.getView().$15i}):(p.$36i=!0,W.$18i.fire({kind:"beginResize",target:W,id:W.getView().$15i}))}else if(p.$38i){var S,m,Q,t,Z,P,w,v,F,C,f=j.getBoundingClientRect(),T=f.width,a=f.height,x=Y(l),R=x.width,u=x.height,O=W._dragContainment;"leftTop"===B?(S=r(q(j,I))||0,Q=r(q(j,K))||0,Z=S+E,w=Q+o,"parent"===O&&(Z+T>R&&(Z=R-T),w+a>u&&(w=u-a),0>Z&&(Z=0),0>w&&(w=0)),F=Z-S,C=w-Q,W.setPosition(Z,w),i.x+=F,i.y+=C):"rightBottom"===B?(m=r(q(j,y))||0,t=r(q(j,$))||0,P=m-E,v=t-o,"parent"===O&&(0>P&&(P=0),0>v&&(v=0),P+T>R&&(P=R-T),v+a>u&&(v=u-a)),F=P-m,C=v-t,W.setPosition(P,v),i.x-=F,i.y-=C):"rightTop"===B?(m=r(q(j,y))||0,Q=r(q(j,K))||0,P=m-E,w=Q+o,"parent"===O&&(0>P&&(P=0),0>w&&(w=0),P+T>R&&(P=R-T),w+a>u&&(w=u-a)),F=P-m,C=w-Q,W.setPosition(P,w),i.x-=F,i.y+=C):"leftBottom"===B&&(S=r(q(j,I))||0,t=r(q(j,$))||0,Z=S+E,v=t-o,"parent"===O&&(0>Z&&(Z=0),0>v&&(v=0),Z+T>R&&(Z=R-T),v+a>u&&(v=u-a)),F=Z-S,C=v-t,W.setPosition(Z,v),i.x+=F,i.y-=C),p.$39i?W.$18i.fire({kind:"betweenMove",target:W,id:W.getView().$15i}):(p.$39i=!0,W.$18i.fire({kind:"beginMove",target:W,id:W.getView().$15i}))}}},handleWindowMouseMove:function(F){this.handleWindowTouchMove(F)}});var W=g.widget.PanelGroup=function(L){var d=this,k=d._view=B.createView(null,d);k.style.border="1px dashed black",k.style.position="absolute",k.style.background="rgba(120, 120, 120, 0.4)",d.$48i=new g.List,d._tolerance=100,d._config=L||{hGap:0,vGap:0},d.bindHandlePanelMove=d.handlePanelMove.bind(d),d.bindHandlePanelEvent=d.handlePanelEvent.bind(d),d.invalidate()};e.def(W,H,{invalidate:function(){var Q=this;Q._68I||(Q._68I=1,i(function(){Q.validate()},50))},validate:function(){if(this._68I){delete this._68I;var Q=this.$48i.get(0);if(Q){var Z=Q.getView().parentNode;Z&&(this.layoutPanels(Z,"leftTop"),this.layoutPanels(Z,"rightTop"),this.layoutPanels(Z,"leftBottom"),this.layoutPanels(Z,"rightBottom"))}}},setLeftTopPanels:function(){var a=this,M=a.$43i,Z=a.$48i;M==S&&(M=a.$43i=new g.List);for(var H=0;H<arguments.length;H++){var j=arguments[H];if("string"==typeof j)M.$49i=j;else{if(j._config.flowLayout)continue;j.setPositionRelativeTo("leftTop"),M.contains(j)||M.add(j),Z.contains(j)||a.add(j)}}},setRightTopPanels:function(){var a=this,M=a.$44i,G=a.$48i;M==S&&(M=a.$44i=new g.List);for(var $=0;$<arguments.length;$++){var n=arguments[$];if("string"==typeof n)M.$49i=n;else{if(n._config.flowLayout)continue;n.setPositionRelativeTo("rightTop"),M.contains(n)||M.add(n),G.contains(n)||a.add(n)}}},setLeftBottomPanels:function(){var R=this,O=R.$45i,Z=R.$48i;O==S&&(O=R.$45i=new g.List);for(var A=0;A<arguments.length;A++){var o=arguments[A];if("string"==typeof o)O.$49i=o;else{if(o._config.flowLayout)continue;o.setPositionRelativeTo("leftBottom"),O.contains(o)||O.add(o),Z.contains(o)||R.add(o)}}},setRightBottomPanels:function(){var Q=this,B=Q.$46i,e=Q.$48i;B==S&&(B=Q.$46i=new g.List);for(var _=0;_<arguments.length;_++){var D=arguments[_];if("string"==typeof D)B.$49i=D;else{if(D._config.flowLayout)continue;D.setPositionRelativeTo("rightBottom"),B.contains(D)||B.add(D),e.contains(D)||Q.add(D)}}},add:function(F){if(!F._config.flowLayout){var J=this,z=J.$48i;z.contains(F)||(F.addEventListener(J.bindHandlePanelMove),F.addEventListener(J.bindHandlePanelEvent),z.add(F))}},remove:function(B){var I=this,X=I.$48i;X.contains(B)&&(B.removeEventListener(I.bindHandlePanelMove),B.removeEventListener(I.bindHandlePanelEvent),X.remove(B),I.$43i.contains(B)&&I.$43i.remove(B),I.$44i.contains(B)&&I.$44i.remove(B),I.$45i.contains(B)&&I.$45i.remove(B),I.$46i.contains(B)&&I.$46i.remove(B))},layoutPanels:function(D,W,C){var F=this,M=F._config,g=M.hGap||0,E=M.vGap||0;if(D){var S=F.$43i;if("leftBottom"===W?S=F.$45i:"rightTop"===W?S=F.$44i:"rightBottom"===W&&(S=F.$46i),!S)return;var Y=S.$49i,b=g,q=E;if(D.contains(F._view)&&D.removeChild(F._view),S&&S.size()>0)for(var T=0;T<S.size();T++){var z=S.get(T),p=z.getView();D=D||p.parentNode,C!==T?z.setPosition(b,q):("leftTop"===W?(F._view.style.right="",F._view.style.bottom="",F._view.style.left=b+V,F._view.style.top=q+V):"leftBottom"===W?(F._view.style.right="",F._view.style.top="",F._view.style.left=b+V,F._view.style.bottom=q+V):"rightTop"===W?(F._view.style.left="",F._view.style.bottom="",F._view.style.right=b+V,F._view.style.top=q+V):"rightBottom"===W&&(F._view.style.left="",F._view.style.top="",F._view.style.right=b+V,F._view.style.bottom=q+V),F._view.style.width=p.offsetWidth+V,F._view.style.height=p.offsetHeight+V,D.insertBefore(F._view,p)),"h"===Y?b+=p.offsetWidth+g:"v"===Y&&(q+=p.offsetHeight+E)}}},handlePanelEvent:function(G){if("beginToggle"===G.kind||"endToggle"===G.kind||"beginRestore"===G.kind||"endMinimize"===G.kind||"endResize"===G.kind){var U=this,l=G.target,A=l.getView(),C=A.parentNode,L=U.$43i,F=U.$44i,P=U.$45i,_=U.$46i,j=U._config,s=S,H=S,y=l.$47i;if(y==S&&(y=l.$47i=0),"beginToggle"===G.kind?y=l.$47i=y+1:"endToggle"===G.kind&&(y=l.$47i=y-1),L&&L.contains(l)?(s="leftTop",H=L):P&&P.contains(l)?(s="leftBottom",H=P):F&&F.contains(l)?(s="rightTop",H=F):_&&_.contains(l)&&(s="rightBottom",H=_),"beginToggle"===G.kind&&s&&1===y){var E=h(),p=E.style,D=H.$49i,O="each";p.fontSize="0",p.position="absolute",p.width="100%","leftTop"===s?(p.left=0,p.top=0):"leftBottom"===s?(p.left=0,p.bottom=0,"v"===D&&(O="reverseEach")):"rightTop"===s?(p.right=0,p.top=0,p.textAlign="right","h"===D&&(O="reverseEach")):"rightBottom"===s&&(p.right=0,p.bottom=0,p.textAlign="right",O="reverseEach"),H[O](function(x){var c=x.getView(),H=c.style,q=h();H.position="static",q.style.textAlign="left",q.style.position="relative",q.style.display="inline-block","leftTop"===s?(q.style.marginLeft=j.hGap+V,q.style.marginTop=j.vGap+V):"leftBottom"===s?(q.style.marginLeft=j.hGap+V,q.style.marginBottom=j.vGap+V):"rightTop"===s?(q.style.marginRight=j.hGap+V,q.style.marginTop=j.vGap+V):"rightBottom"===s&&(q.style.marginRight=j.hGap+V,q.style.marginBottom=j.vGap+V),q.appendChild(c),E.appendChild(q),"h"===D?q.style.verticalAlign="leftTop"===s||"rightTop"===s?"top":"bottom":E.appendChild(R("br"))}),U.$54i=E,C.appendChild(E)}else"endToggle"===G.kind&&s&&0===y?i(function(){C=C.parentNode.parentNode,C.removeChild(U.$54i),delete U.$54i,H.each(function(c){var J=c.getView(),q=J.style;q.position="absolute",C.appendChild(J)}),U.layoutPanels(C,s)},30):("beginRestore"===G.kind||"endMinimize"===G.kind||"endResize"===G.kind)&&s&&U.layoutPanels(C,s)}},handlePanelMove:function(e){if(!(e.kind.indexOf("Move")<0)){var L=this,P=L._config,Y=P.hGap||0,X=P.vGap||0,D=e.target,a=D._view,E=a.getBoundingClientRect(),W=E.width,q=E.height,C=W/2,z=q/2,Z=a.parentNode,T=L.$43i,l=L.$44i,f=L.$45i,s=L.$46i,v=Z.getBoundingClientRect(),c=L._tolerance;if("endMove"===e.kind){var H=L._corner;H&&(D.setPositionRelativeTo(H),L.layoutPanels(Z,H)),delete L._corner}if("betweenMove"===e.kind){var $=v.left,U=v.top,j=v.width,A=v.height,o=E.left+W/2,i=E.top+q/2;T==S&&(T=L.$43i=new g.List),f==S&&(f=L.$45i=new g.List),l==S&&(l=L.$44i=new g.List),s==S&&(s=L.$46i=new g.List),delete L._corner,T.contains(D)?(T.remove(D),L.layoutPanels(Z,"leftTop")):f.contains(D)?(f.remove(D),L.layoutPanels(Z,"leftBottom")):l.contains(D)?(l.remove(D),L.layoutPanels(Z,"rightTop")):s.contains(D)&&(s.remove(D),L.layoutPanels(Z,"rightBottom"));var p=function(s,W){var F=$+Y,t=U+X;if(0===W.size()){var h=F+C,V=t+z;"leftBottom"===s?V=U+A-X-z:"rightTop"===s?h=$+j-Y-C:"rightBottom"===s&&(h=$+j-Y-C,V=U+A-X-z);var R=o-h,P=i-V,f=Math.sqrt(R*R+P*P);if(c>f)return L._corner=s,W.add(D),L.layoutPanels(Z,s,0),!0}else if(1===W.size()){var H=W.get(0),O=H.getView().getBoundingClientRect(),v=O.left+C,e=O.top+z,l=O.left+O.width+Y+C,k=t+z,N=F+C,m=O.top+O.height+X+z;"leftBottom"===s?(e=O.top+O.height-z,k=U+A-X-z,m=O.top-X-z):"rightTop"===s?(v=O.left+O.width-C,l=O.left-Y-C,N=$+j-Y-C):"rightBottom"===s&&(v=O.left+O.width-C,e=O.top+O.height-z,l=O.left-Y-C,k=U+A-X-z,N=$+j-Y-C,m=O.top-X-z);var a=o-v,x=i-e,T=o-l,G=i-k,I=o-N,B=i-m,K=r(Math.sqrt(a*a+x*x)),u=r(Math.sqrt(T*T+G*G)),b=r(Math.sqrt(I*I+B*B)),M=[K,u,b];M.sort(function(C,V){return C-V});var w=M[0];if(c>w){if(L._corner=s,w===K)return W.add(D,0),L.layoutPanels(Z,s,0),!0;if(w===u)return W.add(D),W.$49i="h",L.layoutPanels(Z,s,1),!0;if(w===b)return W.add(D),W.$49i="v",L.layoutPanels(Z,s,1),!0}}else if(W.size()>1){for(var J=S,n={},d=[],y=W.$49i,g=0;g<W.size();g++){var p=W.get(g),Q=p.getView(),_=Q.getBoundingClientRect(),E=_.left+C,q=_.top+z;"leftBottom"===s?q=_.top+_.height-z:"rightTop"===s?E=_.left+_.width-C:"rightBottom"===s&&(E=_.left+_.width-C,q=_.top+_.height-z),g===W.size()-1&&(J=_);var R=o-E,P=i-q,f=r(Math.sqrt(R*R+P*P));n[f]=g,d.push(f)}"leftTop"===s&&"h"===y?(h=J.left+J.width+Y+C,V=t+z):"leftTop"===s&&"v"===y?(h=F+C,V=J.top+J.height+X+z):"leftBottom"===s&&"h"===y?(h=J.left+J.width+Y+C,V=U+A-X-z):"leftBottom"===s&&"v"===y?(h=F+C,V=J.top-X-z):"rightTop"===s&&"h"===y?(h=J.left-Y-C,V=t+z):"rightTop"===s&&"v"===y?(h=$+j-Y-C,V=J.top+J.height+X+z):"rightBottom"===s&&"h"===y?(h=J.left-Y-C,V=U+A-X-z):"rightBottom"===s&&"v"===y&&(h=$+j-Y-C,V=J.top-X-z),R=o-h,P=i-V,f=r(Math.sqrt(R*R+P*P)),n[f]=g,d.push(f),d.sort(function(T,n){return T-n});var w=d[0];if(c>w)return L._corner=s,W.add(D,n[w]),L.layoutPanels(Z,s,n[w]),!0}};p("leftTop",T)||p("leftBottom",f)||p("rightTop",l)||p("rightBottom",s)}}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);